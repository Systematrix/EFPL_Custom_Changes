[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Delivery Note", 
  "modified": "2015-07-30 13:27:23.099341", 
  "name": "Delivery Note-Client", 
  "script": "cur_frm.add_fetch('item_code','net_weight','net_weight');\ncur_frm.add_fetch('item_code','weight_uom','weight_uom');\ncur_frm.add_fetch('customer','documents_required_master','documents_required_master');\ncur_frm.add_fetch('customer','payment_terms','payment_terms');\ncur_frm.cscript.quantity_in_mt = function(doc, cdt, cdn) {\n    var item = frappe.get_doc(cdt, cdn);\n    var qty = item.net_weight ? (flt(item.quantity_in_mt)*1000) / flt(item.net_weight) : 0.0;\n    var number_of_containers=item.quantity_in_mt/17.6;\n    frappe.model.set_value(cdt, cdn, \"qty\", qty);\n    frappe.model.set_value(cdt, cdn, \"number_of_containers\", number_of_containers);\n};\ncur_frm.cscript.rate_per_mt = function(doc, cdt, cdn) {\n    var item = frappe.get_doc(cdt, cdn);\n    var rate = item.rate_per_mt * item.quantity_in_mt / item.qty;\n    frappe.model.set_value(cdt, cdn, \"rate\", rate);\n};\ncur_frm.cscript.buyer = function() {\n  erpnext.utils.get_address_display(this.frm, \"buyer\", \"buyer_address\");\n};\ncur_frm.set_query('buyer', function (doc) {\n    if(doc.customer){\n        return {\n            filters: {\n                'address_type': 'Buyer',\n                'customer' : doc.customer\n            }\n        }\n    }\n    else {\n        return {\n        filters: {\n                'address_type': 'Empty',\n            }\n        }\n    }\n});\ncur_frm.cscript.consignee = function() {\n  erpnext.utils.get_address_display(this.frm, \"consignee\", \"consignee_address\");\n};\ncur_frm.set_query('consignee', function (doc) {\n    if(doc.customer){\n        return {\n            filters: {\n                'address_type': 'Consignee',\n                'customer' : doc.customer\n            }\n        }\n    }\n    else {\n        return {\n        filters: {\n                'address_type': 'Empty'\n            }\n        }\n    }\n});\ncur_frm.cscript.notify_party = function() {\n  erpnext.utils.get_address_display(this.frm, \"notify_party\", \"notify_party_address\");\n};\ncur_frm.set_query('notify_party', function (doc) {\n    if(doc.customer){\n        return {\n            filters: {\n                'address_type': 'Notify Party',\n                'customer' : doc.customer\n            }\n        }\n    }\n    else {\n        return {\n        filters: {\n                'address_type': 'Empty'\n            }\n        }\n    }\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Order", 
  "modified": "2015-06-18 12:00:52.409395", 
  "name": "Sales Order-Client", 
  "script": "cur_frm.add_fetch('item_code','net_weight','net_weight');\ncur_frm.add_fetch('item_code','weight_uom','weight_uom');\ncur_frm.add_fetch('customer','documents_required_master','documents_required_master');\ncur_frm.add_fetch('customer','payment_terms','payment_terms');\ncur_frm.cscript.quantity_in_mt = function(doc, cdt, cdn) {\n    var item = frappe.get_doc(cdt, cdn);\n    var qty = item.net_weight ? (flt(item.quantity_in_mt)*1000) / flt(item.net_weight) : 0.0;\n    var number_of_containers=item.quantity_in_mt/17.6;\n    frappe.model.set_value(cdt, cdn, \"qty\", qty);\n    frappe.model.set_value(cdt, cdn, \"number_of_containers\", number_of_containers);\n};\ncur_frm.cscript.rate_per_mt = function(doc, cdt, cdn) {\n    var item = frappe.get_doc(cdt, cdn);\n    var rate = item.rate_per_mt * item.quantity_in_mt / item.qty;\n    frappe.model.set_value(cdt, cdn, \"rate\", rate);\n};\ncur_frm.cscript.buyer = function() {\n  erpnext.utils.get_address_display(this.frm, \"buyer\", \"buyer_address\");\n};\ncur_frm.set_query('buyer', function (doc) {\n    if(doc.customer){\n        return {\n            filters: {\n                'address_type': 'Buyer',\n                'customer' : doc.customer\n            }\n        }\n    }\n    else {\n        return {\n        filters: {\n                'address_type': 'Empty',\n            }\n        }\n    }\n});\ncur_frm.cscript.consignee = function() {\n  erpnext.utils.get_address_display(this.frm, \"consignee\", \"consignee_address\");\n};\ncur_frm.set_query('consignee', function (doc) {\n    if(doc.customer){\n        return {\n            filters: {\n                'address_type': 'Consignee',\n                'customer' : doc.customer\n            }\n        }\n    }\n    else {\n        return {\n        filters: {\n                'address_type': 'Empty'\n            }\n        }\n    }\n});\ncur_frm.cscript.notify_party = function() {\n  erpnext.utils.get_address_display(this.frm, \"notify_party\", \"notify_party_address\");\n};\ncur_frm.set_query('notify_party', function (doc) {\n    if(doc.customer){\n        return {\n            filters: {\n                'address_type': 'Notify Party',\n                'customer' : doc.customer\n            }\n        }\n    }\n    else {\n        return {\n        filters: {\n                'address_type': 'Empty'\n            }\n        }\n    }\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Invoice", 
  "modified": "2015-06-18 12:00:52.416503", 
  "name": "Sales Invoice-Client", 
  "script": "cur_frm.add_fetch('item_code','net_weight','net_weight');\ncur_frm.add_fetch('item_code','weight_uom','weight_uom');\ncur_frm.add_fetch('customer','documents_required_master','documents_required_master');\ncur_frm.add_fetch('customer','payment_terms','payment_terms');\ncur_frm.cscript.quantity_in_mt = function(doc, cdt, cdn) {\n    var item = frappe.get_doc(cdt, cdn);\n    var qty = item.net_weight ? (flt(item.quantity_in_mt)*1000) / flt(item.net_weight) : 0.0;\n    var number_of_containers=item.quantity_in_mt/17.6;\n    frappe.model.set_value(cdt, cdn, \"qty\", qty);\n    frappe.model.set_value(cdt, cdn, \"number_of_containers\", number_of_containers);\n};\ncur_frm.cscript.rate_per_mt = function(doc, cdt, cdn) {\n    var item = frappe.get_doc(cdt, cdn);\n    var rate = item.rate_per_mt * item.quantity_in_mt / item.qty;\n    frappe.model.set_value(cdt, cdn, \"rate\", rate);\n}", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Quotation", 
  "modified": "2015-06-18 12:00:52.425282", 
  "name": "Quotation-Client", 
  "script": "cur_frm.add_fetch('item_code','net_weight','net_weight');\ncur_frm.add_fetch('item_code','weight_uom','weight_uom');\ncur_frm.add_fetch('customer','payment_terms','payment_terms');\ncur_frm.cscript.quantity_in_mt = function(doc, cdt, cdn) {\n    var item = frappe.get_doc(cdt, cdn);\n    var qty = item.net_weight ? (flt(item.quantity_in_mt)*1000) / flt(item.net_weight) : 0.0;\n    var number_of_containers=item.quantity_in_mt/17.6;\n    frappe.model.set_value(cdt, cdn, \"qty\", qty);\n    frappe.model.set_value(cdt, cdn, \"number_of_containers\", number_of_containers);\n};\ncur_frm.cscript.rate_per_mt = function(doc, cdt, cdn) {\n    var item = frappe.get_doc(cdt, cdn);\n    var rate = item.rate_per_mt * item.quantity_in_mt / item.qty;\n    frappe.model.set_value(cdt, cdn, \"rate\", rate);\n}", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Purchase Receipt", 
  "modified": "2015-06-18 12:00:52.434728", 
  "name": "Purchase Receipt-Client", 
  "script": "cur_frm.cscript.rejected_qty = function(doc, cdt, cdn) {\n    var item = frappe.get_doc(cdt, cdn);\n    var loss = item.transporter_loss + item.natural_loss;\n    var rejected_qty= item.rejected_qty;\nif(rejected_qty > loss){\n    msgprint(\"Please check the losses/Rejected Quantity\");\n   }  \n}", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Serial No", 
  "modified": "2015-06-18 12:00:52.442905", 
  "name": "Serial No-Client", 
  "script": "cur_frm.cscript.brix = function(doc, cdt, cdn) {\n    var item = frappe.get_doc(cdt, cdn);\n    var brix = doc.brix;\n    var acidity = doc.acidity;\n    var b_a= doc.acidity ? flt(brix) / flt(acidity) : 0.0;\n    frappe.model.set_value(cdt, cdn, \"b_a\", b_a);\n};\ncur_frm.cscript.acidity = function(doc, cdt, cdn) {\n    var item = frappe.get_doc(cdt, cdn);\n    var brix = doc.brix;\n    var acidity = doc.acidity;\n    var b_a= doc.brix ? flt(brix) / flt(acidity) : 0.0;\n    frappe.model.set_value(cdt, cdn, \"b_a\", b_a);\n};", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Delivery Information", 
  "modified": "2015-07-30 13:45:55.998710", 
  "name": "Delivery Information-Client", 
  "script": "cur_frm.cscript.custom_refresh =function(doc){\n        doc.shipping_cost_total=doc.shipping_cost_1+doc.shipping_cost_2+doc.shipping_cost_3\n        +doc.shipping_cost_4+doc.shipping_cost_5;\n        doc.cha_total=doc.cha_cost_1+doc.cha_cost_2+doc.cha_cost_3+doc.cha_cost_4+doc.cha_cost_5;\n        doc.legalization_total=doc.legalization_cost_1+doc.legalization_cost_2;\n        doc.other_charges_total=doc.other_charges_1+doc.other_charges_2+doc.other_charges_3;\n        refresh_field(\"shipping_cost_total\");\n        refresh_field(\"cha_total\");\n        refresh_field(\"other_charges_total\");\n        refresh_field(\"legalization_total\");\n};", 
  "script_type": "Client"
 }
]